# bantang
半糖5.8.2 首页的效果。写这个库的起因是在Yep 上面有人提问这个效果怎么实现。我最开始没注意到轮播也是可以和底下`tableview`联动的。写完之后发现这个效果了wtf，貌似没有想象中的那么容易啊。但是我第一种方法和最终的效果也就差了
轮播上下滑动和下面整个tableview的联动了。但是我用手势又完全实现不了那种感觉那个轮播上下滑动就是滑动tableview的感觉。后来我思考了一下，我用了另外的方法最终实现了效果，后来的思路是把`tableview`设的老高就是把所有的内容都加载出来然后设置这个tableview无法滑动，然后把他放到一个scrollview里面
。这时候滑动效果确实和半糖的效果基本就一致。但是这时候底下的tableview左右滑动的时候非常难控制，而且要一次性把所有的cell都加载出来。感觉内存肯定会吃紧。我对这种方法还是比较不喜欢的。。。然后当我准备就这样了，万一以后真要这种效果就用上面那种效果慢慢优化的时候，在yep的讨论里面一个饿了么的开发者贴了一个博客讲的是他用ios7以后的
物理效果配合手势来自己实现一个uiscrollview的文章。http://eleme.io/mobilists/2016/03/15/%E7%94%A8UIKit-Dynamics%E6%A8%A1%E4%BB%BFUIScrollView/  我今天仔细看了看，我突然间感觉我第一种方式配合着这种手势配合uikit dynamic。就完全可以模仿出联动的效果。。。我尝试着写了写，感觉发现了新大陆啊。。。效果基本上可以以假乱真了，感觉上面的轮播就是加在tableview上面的感觉啊。然后我尝试着封装了一下
封装的时候还是有点坑的，最重要的是tableview的代理不能再是一对一了。没关系~我以前看到过代理一对多的效果，然后我也自己写过一个工具，这里直接排上用场了。最后在写完轮播下面那个工具条，感觉棒棒的。。。。。学习思考的魅力啊~~~~半糖真是个优秀的app啊。


![img](https://raw.githubusercontent.com/zhnnnnn/bantang/master/%E5%8D%8A%E7%B3%96%E6%95%88%E6%9E%9C.gif)

